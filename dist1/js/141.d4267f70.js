"use strict";(self["webpackChunkliste_de_course"]=self["webpackChunkliste_de_course"]||[]).push([[141],{4141:function(s,e,i){i.r(e),i.d(e,{default:function(){return b}});var t=i(3396),o=i(9242),n=i(7139);const r=s=>((0,t.dD)("data-v-7d9f6098"),s=s(),(0,t.Cn)(),s),l=r((()=>(0,t._)("h2",null,"Connexion",-1))),a=(0,t.Uk)(" Login ou e-mail "),d={key:0,class:"error"},h=(0,t.Uk)(" Mot de passe "),u=["type"],p={key:0,class:"error"},w={key:0,class:"error",style:{"font-weight":"bold","margin-bottom":"1em","text-align":"center"}},c=["disabled"];function m(s,e,i,r,m,g){const y=(0,t.up)("font-awesome-icon");return(0,t.wg)(),(0,t.iD)("section",null,[l,(0,t._)("form",{onSubmit:e[5]||(e[5]=(0,o.iM)(((...s)=>this.handleFormSubmit&&this.handleFormSubmit(...s)),["prevent"]))},[(0,t._)("label",null,[a,(0,t.wy)((0,t._)("input",{type:"text",name:"login","onUpdate:modelValue":e[0]||(e[0]=s=>this.login=s),placeholder:"Paul Position"},null,512),[[o.nr,this.login]]),this.errors.loginEmpty?((0,t.wg)(),(0,t.iD)("div",d," Vous devez saisir un identifiant ! ")):(0,t.kq)("",!0)]),(0,t._)("label",null,[h,(0,t.wy)((0,t._)("input",{type:[g.pwdInputType()],name:"password","onUpdate:modelValue":e[1]||(e[1]=s=>this.password=s),onBlur:e[2]||(e[2]=s=>[this.handleHidePwd()])},null,40,u),[[o.YZ,this.password]]),(0,t.Wm)(y,{class:(0,n.C_)(["eye",{hide:this.seePwd}]),icon:"fa-solid fa-eye",onClick:e[3]||(e[3]=s=>this.handleShowPwd()),src:"@/assets/eye-solid.svg",alt:"",width:"16"},null,8,["class"]),(0,t.Wm)(y,{class:(0,n.C_)(["eye",{hide:!this.seePwd}]),icon:"fa-solid fa-eye-slash",onClick:e[4]||(e[4]=s=>this.handleHidePwd()),src:"@/assets/eye-slash-solid.svg",alt:"",width:"16"},null,8,["class"]),this.errors.passwordEmpty?((0,t.wg)(),(0,t.iD)("div",p," Vous devez saisir un mot de passe ! ")):(0,t.kq)("",!0)]),this.errors.loginFailed?((0,t.wg)(),(0,t.iD)("div",w," Identifiants incorrects ")):(0,t.kq)("",!0),(0,t._)("button",{disabled:""==this.login||""==this.password}," Se connecter ",8,c)],32)])}var g=i(9005),y=i(7247),f={name:"LoginView",data(){return{login:"",password:"",seePwd:!1,errors:{loginEmpty:!1,passwordEmpty:!1,loginFailed:!1}}},methods:{handleShowPwd(){this.seePwd=!0},handleHidePwd(){this.seePwd=!1},pwdInputType(){return this.seePwd?"text":"password"},async handleFormSubmit(){if(this.errors.loginFailed=!1,this.errors.loginEmpty=""==this.login,this.errors.passwordEmpty=""==this.password,!this.errors.loginEmpty&&!this.errors.passwordEmpty){let s=await g.Z.login(this.login,this.password);y.Z.set("userData",s),await g.Z.isConnected()?(this.$store.commit("userConnected"),this.$router.push({name:"list"})):this.errors.loginFailed=!0}}}},_=i(89);const k=(0,_.Z)(f,[["render",m],["__scopeId","data-v-7d9f6098"]]);var b=k}}]);
//# sourceMappingURL=141.d4267f70.js.map