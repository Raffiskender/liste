"use strict";(self["webpackChunkliste_de_course"]=self["webpackChunkliste_de_course"]||[]).push([[157],{5638:function(s,e,r){r.d(e,{Z:function(){return o}});var a=r(3396);function i(s,e,r,i,t,l){return(0,a.wg)(),(0,a.iD)("div")}var t={name:"SpinnerCpnt"},l=r(89);const d=(0,l.Z)(t,[["render",i],["__scopeId","data-v-0d82b6c3"]]);var o=d},4157:function(s,e,r){r.r(e),r.d(e,{default:function(){return D}});var a=r(3396),i=r(9242),t=r(7139);const l=s=>((0,a.dD)("data-v-4deb1fea"),s=s(),(0,a.Cn)(),s),d=l((()=>(0,a._)("h1",null,"Réinitialisation du mot de passe",-1))),o=(0,a.Uk)(" Mot de passe "),c=["type"],n=(0,a.Uk)("Doit contenir "),h=l((()=>(0,a._)("li",null,"entre 8 et 22 caractères,",-1))),u={key:0,class:"error"},p={key:1,class:"error"},w=(0,a.Uk)(" Vérification du mot de passe "),f=["type"],m={key:0,class:"error"},C={key:1,class:"error"},y=["disabled"],V={key:0},g={key:0,class:"error"},_=l((()=>(0,a._)("p",null,"Il y eu un pb",-1))),P={key:1,class:"success",style:{"font-weight":"bold","margin-bottom":"1em","text-align":"center"}},k=(0,a.Uk)(" Votre mot de passe vient d'être remplacé. Vous pouvez aller "),v=(0,a.Uk)("vous connecter"),b=(0,a.Uk)(" ! ");function z(s,e,r,l,z,S){const I=(0,a.up)("font-awesome-icon"),M=(0,a.up)("SpinnerCpnt"),N=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[d,(0,a._)("form",{onSubmit:e[9]||(e[9]=(0,i.iM)(((...s)=>this.handleFormSubmit&&this.handleFormSubmit(...s)),["prevent"]))},[(0,a._)("label",null,[o,(0,a.wy)((0,a._)("input",{class:(0,t.C_)(["pwdInput",S.isPasswordValid()]),type:[this.pwdInputType()],name:"password","onUpdate:modelValue":e[0]||(e[0]=s=>this.password=s),onFocus:e[1]||(e[1]=(...s)=>this.handleFocusPasswordInput&&this.handleFocusPasswordInput(...s)),onBlur:e[2]||(e[2]=(...s)=>this.handleBlurPasswordInput&&this.handleBlurPasswordInput(...s))},null,42,c),[[i.YZ,this.password]]),(0,a.Wm)(I,{icon:"fa-solid fa-eye",class:(0,t.C_)(["eye",{hide:this.seePwd}]),onClick:e[3]||(e[3]=s=>this.handleSeePwd()),alt:"",width:"16"},null,8,["class"]),(0,a.Wm)(I,{icon:"fa-solid fa-eye-slash",class:(0,t.C_)(["eye",{hide:!this.seePwd}]),onClick:e[4]||(e[4]=s=>this.handleSeePwd()),alt:"",width:"16"},null,8,["class"]),(0,a._)("div",null,[(0,a._)("ul",null,[n,(0,a._)("div",{class:(0,t.C_)([S.isNumberOfCaracteresValid()])},[(0,a.Wm)(I,{icon:"fa-regular fa-circle-check",class:(0,t.C_)({hide:"has-error"==S.isNumberOfCaracteresValid()||""==this.password})},null,8,["class"]),(0,a.Wm)(I,{icon:"fa-regular fa-circle-xmark",class:(0,t.C_)({hide:"has-success"==S.isNumberOfCaracteresValid()})},null,8,["class"]),h],2),(0,a._)("div",{class:(0,t.C_)([S.isCapitilizeCaractereValid()])},[(0,a.Wm)(I,{icon:"fa-regular fa-circle-check",class:(0,t.C_)({hide:"has-error"==S.isCapitilizeCaractereValid()||""==this.password}),style:{color:"green"}},null,8,["class"]),(0,a.Wm)(I,{icon:"fa-regular fa-circle-xmark",class:(0,t.C_)({hide:"has-success"==S.isCapitilizeCaractereValid()}),style:{color:"red"}},null,8,["class"]),(0,a._)("li",{class:(0,t.C_)([S.isCapitilizeCaractereValid()])},"une majuscule,",2)],2),(0,a._)("div",{class:(0,t.C_)([S.isMinimizeCaractereValid()])},[(0,a.Wm)(I,{icon:"fa-regular fa-circle-check",class:(0,t.C_)({hide:"has-error"==S.isMinimizeCaractereValid()||""==this.password}),style:{color:"green"}},null,8,["class"]),(0,a.Wm)(I,{icon:"fa-regular fa-circle-xmark",class:(0,t.C_)({hide:"has-success"==S.isMinimizeCaractereValid()}),style:{color:"red"}},null,8,["class"]),(0,a._)("li",{class:(0,t.C_)([S.isMinimizeCaractereValid()])},"une minuscule",2)],2),(0,a._)("div",{class:(0,t.C_)([S.isNumberValid()])},[(0,a.Wm)(I,{icon:"fa-regular fa-circle-check",class:(0,t.C_)({hide:"has-error"==S.isNumberValid()||""==this.password}),style:{color:"green"}},null,8,["class"]),(0,a.Wm)(I,{icon:"fa-regular fa-circle-xmark",class:(0,t.C_)({hide:"has-success"==S.isNumberValid()}),style:{color:"red"}},null,8,["class"]),(0,a._)("li",{class:(0,t.C_)([S.isNumberValid()])},"un chiffre",2)],2),(0,a._)("div",{class:(0,t.C_)([S.isSpecialCaractereValid()])},[(0,a.Wm)(I,{icon:"fa-regular fa-circle-check",class:(0,t.C_)({hide:"has-error"==S.isSpecialCaractereValid()||""==this.password}),style:{color:"green"}},null,8,["class"]),(0,a.Wm)(I,{icon:"fa-regular fa-circle-xmark",class:(0,t.C_)({hide:"has-success"==S.isSpecialCaractereValid()}),style:{color:"red"}},null,8,["class"]),(0,a._)("li",{class:(0,t.C_)([S.isSpecialCaractereValid()])},"un caractère spécial",2)],2)])]),this.errors.passwordEmpty?((0,a.wg)(),(0,a.iD)("div",u," Vous devez saisir un mot de passe ! ")):(0,a.kq)("",!0),this.errors.invalidPassword&&!this.errors.passwordEmpty?((0,a.wg)(),(0,a.iD)("div",p," Votre mot de passe n'est pas assez fort ! ")):(0,a.kq)("",!0)]),(0,a._)("label",null,[w,(0,a.wy)((0,a._)("input",{class:(0,t.C_)(["pwdInput",S.isPasswordValidationOk()]),type:[this.pwdVerifInputType()],name:"passwordVerify",onBlur:e[5]||(e[5]=s=>this.handleBlurPwdVerif()),"onUpdate:modelValue":e[6]||(e[6]=s=>this.passwordVerify=s)},null,42,f),[[i.YZ,this.passwordVerify]]),(0,a.Wm)(I,{icon:"fa-solid fa-eye",class:(0,t.C_)(["eye",{hide:this.seePwdVerif}]),onClick:e[7]||(e[7]=s=>this.handleSeePwdVerif()),alt:"",width:"16"},null,8,["class"]),(0,a.Wm)(I,{icon:"fa-solid fa-eye-slash",class:(0,t.C_)(["eye",{hide:!this.seePwdVerif}]),onClick:e[8]||(e[8]=s=>this.handleSeePwdVerif()),alt:"",width:"16"},null,8,["class"]),this.errors.passwordVerifyEmpty?((0,a.wg)(),(0,a.iD)("div",m," Vous devez saisir une deuxième fois votre mot de passe ! ")):(0,a.kq)("",!0),this.errors.passwordsDoesNotMatch&&!this.errors.passwordVerifyEmpty?((0,a.wg)(),(0,a.iD)("div",C," Les 2 mots de passe ne sont pas identiques ! ")):(0,a.kq)("",!0)]),(0,a._)("button",{disabled:""==this.password||"has-error"==this.isPasswordValid()||"has-error"==this.isPasswordValidationOk()},[this.awaiting?((0,a.wg)(),(0,a.j4)(M,{key:1})):((0,a.wg)(),(0,a.iD)("span",V,"Réinitialiser"))],8,y),this.errors.sendingFailed?((0,a.wg)(),(0,a.iD)("div",g,[_,(0,a._)("p",null,"Message : "+(0,t.zw)(this.errorMessage),1)])):(0,a.kq)("",!0),this.success?((0,a.wg)(),(0,a.iD)("div",P,[k,(0,a.Wm)(N,{to:{name:"login"}},{default:(0,a.w5)((()=>[v])),_:1}),b])):(0,a.kq)("",!0)],32)],64)}var S=r(9079),I=r(5638),M={name:"PasswordChange",components:{SpinnerCpnt:I.Z},data(){return{seePwd:!1,seePwdVerif:!1,password:"",passwordVerify:"",regPassword:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(^.{8,22}$)/,regNumberOfCaracteres:/(^.{8,22}$)/,regSpecialCaractere:/(?=.*[^A-Za-z0-9])/,regCapitilizeCaractere:/(?=.*[A-Z])/,regMinimizeCaractere:/(?=.*[a-z])/,regNumber:/(?=.*[0-9])/,errors:{passwordEmpty:!1,passwordVerifyEmpty:!1,invalidPassword:!1,sendingFailed:!1,passwordsDoesNotMatch:!1},awaiting:!1,errorMessage:"",success:!1,userId:this.$route.query["user"],userKey:this.$route.query["key"]}},methods:{handleSeePwd(){this.seePwd=!this.seePwd,this.passwordfocus=!0},handleSeePwdVerif(){this.seePwdVerif=!this.seePwdVerif},handleBlurPwdVerif(){this.seePwdVerif=!1},pwdVerifInputType(){return this.seePwdVerif?"text":"password"},pwdInputType(){return this.seePwd?"text":"password"},isNumberOfCaracteresValid(){return""==this.password?"has-error":this.regNumberOfCaracteres.test(this.password)?"has-success":"has-error"},isSpecialCaractereValid(){return""==this.password?"has-error":this.regSpecialCaractere.test(this.password)?"has-success":"has-error"},isCapitilizeCaractereValid(){return""==this.password?"has-error":this.regCapitilizeCaractere.test(this.password)?"has-success":"has-error"},isMinimizeCaractereValid(){return""==this.password?"has-error":this.regMinimizeCaractere.test(this.password)?"has-success":"has-error"},isNumberValid(){return""==this.password?"has-error":this.regNumber.test(this.password)?"has-success":"has-error"},isPasswordValid(){return""==this.password?"has-error":this.regPassword.test(this.password)?"has-success":"has-error"},isPasswordValidationOk(){if(""!=this.passwordVerify&&this.regPassword.test(this.password))return this.password==this.passwordVerify?"has-success":"has-error"},handleFocusPasswordInput(){this.errors.invalidPassword=!1,this.passwordfocus=!0},handleBlurPasswordInput(){this.seePwd=!1,this.passwordfocus=!1},async handleFormSubmit(){if(this.errors.passwordEmpty=!1,this.errors.passwordVerifyEmpty=!1,this.errors.invalidPassword=!1,this.sendingFailed=!1,this.errorMessage="",this.success=!1,this.errors.passwordEmpty=""==this.password,this.errors.passwordVerifyEmpty=""==this.passwordVerify,this.errors.invalidPassword=!this.regPassword.test(this.password),this.errors.passwordsDoesNotMatch=this.password!=this.passwordVerify,!this.errors.passwordEmpty&&!this.errors.passwordVerifyEmpty&&!this.errors.invalidPassword){const s=await S.W.passwordReset(this.password,this.userKey,this.userId);1==s.success?(this.success=!0,this.email="",this.awaiting=!1,this.errors.sendingFailed=!1):(this.errorMessage=s.response,this.errors.sendingFailed=!0,this.awaiting=!1,this.success=!1)}}}},N=r(89);const W=(0,N.Z)(M,[["render",z],["__scopeId","data-v-4deb1fea"]]);var D=W}}]);
//# sourceMappingURL=157.77a9ffd7.js.map