"use strict";(self["webpackChunkliste_de_course"]=self["webpackChunkliste_de_course"]||[]).push([[253],{5638:function(s,e,r){r.d(e,{Z:function(){return d}});var i=r(3396);function a(s,e,r,a,t,l){return(0,i.wg)(),(0,i.iD)("div")}var t={name:"SpinnerCpnt"},l=r(89);const o=(0,l.Z)(t,[["render",a],["__scopeId","data-v-0d82b6c3"]]);var d=o},7253:function(s,e,r){r.r(e),r.d(e,{default:function(){return Y}});var i=r(3396),a=r(9242),t=r(7139);const l=s=>((0,i.dD)("data-v-3584e71e"),s=s(),(0,i.Cn)(),s),o=l((()=>(0,i._)("div",{class:"modal-content"},[(0,i._)("h1",{class:"title"},"Inscription réussie !"),(0,i._)("p",null,"Merci de vérifier votre adresse mail avant de vous connecter ")],-1))),d=l((()=>(0,i._)("h2",null,"S'enregistrer",-1))),n=(0,i.Uk)(" Email "),c={key:0,class:"error"},u={key:1,class:"error"},h=(0,i.Uk)(" Identifiant "),p={key:0,class:"error"},m=(0,i.Uk)(" Mot de passe "),w=["type"],f=(0,i.Uk)("Doit contenir "),g=l((()=>(0,i._)("li",null,"entre 8 et 22 caractères,",-1))),C={key:0,class:"error"},y={key:1,class:"error"},_=(0,i.Uk)(" Vérification du mot de passe "),V=["type"],v={key:0,class:"error"},k={key:1,class:"error"},P={key:0,class:"error"},b=["disabled"],M={key:0},z={key:1,class:"error"},S=l((()=>(0,i._)("p",null,"Il y eu un pb lors de votre enregistrement",-1))),E={key:2,class:"success",style:{"font-weight":"bold","margin-bottom":"1em","text-align":"center"}},I=(0,i.Uk)(" Félicitation, vous êtes à présent enregistré sur notre site. Vous pouvez dès à présent vous connecter sur la "),W=(0,i.Uk)("page de connection"),D=(0,i.Uk)(" ! ");function N(s,e,r,l,N,F){const q=(0,i.up)("ModalView"),A=(0,i.up)("font-awesome-icon"),Z=(0,i.up)("SpinnerCpnt"),U=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("section",null,[(0,i.Wm)(q,{onClose:l.toggleModal,modalActive:l.modalActive},{default:(0,i.w5)((()=>[o])),_:1},8,["onClose","modalActive"]),d,(0,i._)("form",{onSubmit:e[11]||(e[11]=(0,a.iM)(((...s)=>this.handleFormSubmit&&this.handleFormSubmit(...s)),["prevent"]))},[(0,i._)("label",null,[n,(0,i.wy)((0,i._)("input",{type:"email",name:"Email","onUpdate:modelValue":e[0]||(e[0]=s=>this.email=s),placeholder:"Email",class:(0,t.C_)([F.isEmailValid()]),required:""},null,2),[[a.nr,this.email]]),this.errors.emailEmpty?((0,i.wg)(),(0,i.iD)("div",c," Vous devez saisir un mail ! ")):(0,i.kq)("",!0),this.errors.invalidMail?((0,i.wg)(),(0,i.iD)("div",u," E-mail invalide ! ")):(0,i.kq)("",!0)]),(0,i._)("label",null,[h,(0,i.wy)((0,i._)("input",{type:"text",name:"username","onUpdate:modelValue":e[1]||(e[1]=s=>this.username=s),placeholder:"Identifiant",required:""},null,512),[[a.nr,this.username]]),this.errors.usernameEmpty?((0,i.wg)(),(0,i.iD)("div",p," Vous devez saisir un login ! ")):(0,i.kq)("",!0)]),(0,i._)("label",null,[m,(0,i.wy)((0,i._)("input",{class:(0,t.C_)(["pwdInput",F.isPasswordValid()]),type:[this.pwdInputType()],name:"password","onUpdate:modelValue":e[2]||(e[2]=s=>this.password=s),onFocus:e[3]||(e[3]=(...s)=>this.handleFocusPasswordInput&&this.handleFocusPasswordInput(...s)),onBlur:e[4]||(e[4]=(...s)=>this.handleBlurPasswordInput&&this.handleBlurPasswordInput(...s))},null,42,w),[[a.YZ,this.password]]),(0,i.Wm)(A,{icon:"fa-solid fa-eye",class:(0,t.C_)(["eye",{hide:this.seePwd}]),onClick:e[5]||(e[5]=s=>this.handleSeePwd()),alt:"",width:"16"},null,8,["class"]),(0,i.Wm)(A,{icon:"fa-solid fa-eye-slash",class:(0,t.C_)(["eye",{hide:!this.seePwd}]),onClick:e[6]||(e[6]=s=>this.handleSeePwd()),alt:"",width:"16"},null,8,["class"]),(0,i._)("div",null,[(0,i._)("ul",null,[f,(0,i._)("div",{class:(0,t.C_)([F.isNumberOfCaracteresValid()])},[(0,i.Wm)(A,{icon:"fa-regular fa-circle-check",class:(0,t.C_)({hide:"has-error"==F.isNumberOfCaracteresValid()||""==this.password})},null,8,["class"]),(0,i.Wm)(A,{icon:"fa-regular fa-circle-xmark",class:(0,t.C_)({hide:"has-success"==F.isNumberOfCaracteresValid()})},null,8,["class"]),g],2),(0,i._)("div",{class:(0,t.C_)([F.isCapitilizeCaractereValid()])},[(0,i.Wm)(A,{icon:"fa-regular fa-circle-check",class:(0,t.C_)({hide:"has-error"==F.isCapitilizeCaractereValid()||""==this.password}),style:{color:"green"}},null,8,["class"]),(0,i.Wm)(A,{icon:"fa-regular fa-circle-xmark",class:(0,t.C_)({hide:"has-success"==F.isCapitilizeCaractereValid()}),style:{color:"red"}},null,8,["class"]),(0,i._)("li",{class:(0,t.C_)([F.isCapitilizeCaractereValid()])},"une majuscule,",2)],2),(0,i._)("div",{class:(0,t.C_)([F.isMinimizeCaractereValid()])},[(0,i.Wm)(A,{icon:"fa-regular fa-circle-check",class:(0,t.C_)({hide:"has-error"==F.isMinimizeCaractereValid()||""==this.password}),style:{color:"green"}},null,8,["class"]),(0,i.Wm)(A,{icon:"fa-regular fa-circle-xmark",class:(0,t.C_)({hide:"has-success"==F.isMinimizeCaractereValid()}),style:{color:"red"}},null,8,["class"]),(0,i._)("li",{class:(0,t.C_)([F.isMinimizeCaractereValid()])},"une minuscule",2)],2),(0,i._)("div",{class:(0,t.C_)([F.isNumberValid()])},[(0,i.Wm)(A,{icon:"fa-regular fa-circle-check",class:(0,t.C_)({hide:"has-error"==F.isNumberValid()||""==this.password}),style:{color:"green"}},null,8,["class"]),(0,i.Wm)(A,{icon:"fa-regular fa-circle-xmark",class:(0,t.C_)({hide:"has-success"==F.isNumberValid()}),style:{color:"red"}},null,8,["class"]),(0,i._)("li",{class:(0,t.C_)([F.isNumberValid()])},"un chiffre",2)],2),(0,i._)("div",{class:(0,t.C_)([F.isSpecialCaractereValid()])},[(0,i.Wm)(A,{icon:"fa-regular fa-circle-check",class:(0,t.C_)({hide:"has-error"==F.isSpecialCaractereValid()||""==this.password}),style:{color:"green"}},null,8,["class"]),(0,i.Wm)(A,{icon:"fa-regular fa-circle-xmark",class:(0,t.C_)({hide:"has-success"==F.isSpecialCaractereValid()}),style:{color:"red"}},null,8,["class"]),(0,i._)("li",{class:(0,t.C_)([F.isSpecialCaractereValid()])},"un caractère spécial",2)],2)])]),this.errors.passwordEmpty?((0,i.wg)(),(0,i.iD)("div",C," Vous devez saisir un mot de passe ! ")):(0,i.kq)("",!0),this.errors.invalidPassword?((0,i.wg)(),(0,i.iD)("div",y," Votre mot de passe n'est pas assez fort ! ")):(0,i.kq)("",!0)]),(0,i._)("label",null,[_,(0,i.wy)((0,i._)("input",{class:(0,t.C_)(["pwdInput",F.isPasswordValidationOk()]),type:[this.pwdVerifInputType()],name:"passwordVerify",onBlur:e[7]||(e[7]=s=>this.handleBlurPwdVerif()),"onUpdate:modelValue":e[8]||(e[8]=s=>this.passwordVerify=s)},null,42,V),[[a.YZ,this.passwordVerify]]),(0,i.Wm)(A,{icon:"fa-solid fa-eye",class:(0,t.C_)(["eye",{hide:this.seePwdVerif}]),onClick:e[9]||(e[9]=s=>this.handleSeePwdVerif()),alt:"",width:"16"},null,8,["class"]),(0,i.Wm)(A,{icon:"fa-solid fa-eye-slash",class:(0,t.C_)(["eye",{hide:!this.seePwdVerif}]),onClick:e[10]||(e[10]=s=>this.handleSeePwdVerif()),alt:"",width:"16"},null,8,["class"]),this.errors.passwordVerifyEmpty?((0,i.wg)(),(0,i.iD)("div",v," Vous devez saisir une deuxième fois votre mot de passe ! ")):(0,i.kq)("",!0),this.errors.passwordsDoesNotMatch?((0,i.wg)(),(0,i.iD)("div",k," Les 2 mots de passe ne sont pas identiques ! ")):(0,i.kq)("",!0)]),this.errors.loginFailed?((0,i.wg)(),(0,i.iD)("div",P," Identifiants incorrects ")):(0,i.kq)("",!0),(0,i._)("button",{disabled:""==this.email||""==this.username||""==this.password||""==this.passwordVerify||this.awaiting},[this.awaiting?((0,i.wg)(),(0,i.j4)(Z,{key:1})):((0,i.wg)(),(0,i.iD)("span",M,"S'inscrire"))],8,b),this.errors.suscribeFailed?((0,i.wg)(),(0,i.iD)("div",z,[S,(0,i._)("p",null,"Message : "+(0,t.zw)(this.errorMessage),1)])):(0,i.kq)("",!0),this.success.suscribeSuccessfull?((0,i.wg)(),(0,i.iD)("div",E,[I,(0,i.Wm)(U,{to:{name:"login"}},{default:(0,i.w5)((()=>[W])),_:1}),D])):(0,i.kq)("",!0)],32)])}var F=r(9079);const q={class:"modale"},A={class:"modal-inner"};function Z(s,e,r,t,l,o){const d=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.j4)(a.uT,{name:"modal-animation"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",q,[(0,i.Wm)(a.uT,{name:"modal-inner-animation"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",A,[(0,i.Wm)(d,{class:"close-btn",onClick:t.close,icon:"fa-regular fa-circle-xmark"},null,8,["onClick"]),(0,i.WI)(s.$slots,"default",{},void 0,!0),(0,i._)("button",{onClick:e[0]||(e[0]=(...s)=>t.close&&t.close(...s))},"Fermer")],512),[[a.F8,r.modalActive]])])),_:3})],512),[[a.F8,r.modalActive]])])),_:3})}var U={name:"ModalView",props:["modalActive"],setup(s,{emit:e}){const r=()=>{e("close")};return{close:r}}},x=r(89);const O=(0,x.Z)(U,[["render",Z],["__scopeId","data-v-7f7b6efa"]]);var B=O,T=r(5638),$=r(4870),j={name:"LoginView",components:{ModalView:B,SpinnerCpnt:T.Z},setup(){const s=(0,$.iH)(!1),e=()=>{s.value=!s.value};return{modalActive:s,toggleModal:e}},data(){return{email:"",username:"",password:"",passwordVerify:"",passwordfocus:!1,seePwd:!1,seePwdVerif:!1,awaiting:!1,errors:{suscribeFailed:!1,emailEmpty:!1,usernameEmpty:!1,fisrt_nameEmpty:!1,last_nameEmpty:!1,passwordEmpty:!1,passwordVerifyEmpty:!1,passwordsDoesNotMatch:!1,invalidMail:!1,invalidPassword:!1},success:{suscribeSuccessfull:!1},errorMessage:"",regMail:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,regPassword:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(^.{8,22}$)/,regNumberOfCaracteres:/(^.{8,22}$)/,regSpecialCaractere:/(?=.*[^A-Za-z0-9])/,regCapitilizeCaractere:/(?=.*[A-Z])/,regMinimizeCaractere:/(?=.*[a-z])/,regNumber:/(?=.*[0-9])/}},methods:{isEmailValid(){return""==this.email?"":this.regMail.test(this.email)?"has-success":"has-error"},handleSeePwd(){this.seePwd=!this.seePwd,this.passwordfocus=!0},handleSeePwdVerif(){this.seePwdVerif=!this.seePwdVerif},handleBlurPwdVerif(){this.seePwdVerif=!1},pwdVerifInputType(){return this.seePwdVerif?"text":"password"},pwdInputType(){return this.seePwd?"text":"password"},isNumberOfCaracteresValid(){return""==this.password?"has-error":this.regNumberOfCaracteres.test(this.password)?"has-success":"has-error"},isSpecialCaractereValid(){return""==this.password?"has-error":this.regSpecialCaractere.test(this.password)?"has-success":"has-error"},isCapitilizeCaractereValid(){return""==this.password?"has-error":this.regCapitilizeCaractere.test(this.password)?"has-success":"has-error"},isMinimizeCaractereValid(){return""==this.password?"has-error":this.regMinimizeCaractere.test(this.password)?"has-success":"has-error"},isNumberValid(){return""==this.password?"has-error":this.regNumber.test(this.password)?"has-success":"has-error"},isPasswordValid(){return""==this.password?"has-error":this.regPassword.test(this.password)?"has-success":"has-error"},isPasswordValidationOk(){if(""!=this.passwordVerify&&this.regPassword.test(this.password))return this.password==this.passwordVerify?"has-success":"has-error"},handleFocusPasswordInput(){this.errors.invalidPassword=!1,this.passwordfocus=!0},handleBlurPasswordInput(){this.seePwd=!1,this.passwordfocus=!1},async handleFormSubmit(){if(this.errors.suscribeFailed=!1,this.errors.invalidMail=!1,this.errors.invalidPassword=!1,this.errors.emailEmpty=""==this.email,this.errors.usernameEmpty=""==this.username,this.errors.passwordEmpty=""==this.password,this.errors.passwordsDoesNotMatch=this.password!=this.passwordVerify,this.errors.invalidMail=!this.regMail.test(this.email),this.errors.invalidPassword=!this.regPassword.test(this.password),!this.errors.usernameEmpty&&!this.errors.passwordEmpty&&!this.emailEmpty&&!this.errors.passwordsDoesNotMatch&&!this.errors.invalidMail&&!this.errors.invalidPassword){this.awaiting=!0;let s=await F.W.suscribe(this.email,this.username,this.password);1==s.success?(this.success.suscribeSuccessfull=!0,this.email="",this.username="",this.password="",this.passwordVerify="",this.toggleModal(),this.awaiting=!1):(this.errorMessage=s.response.message,this.errors.suscribeFailed=!0,this.awaiting=!1)}}}};const L=(0,x.Z)(j,[["render",N],["__scopeId","data-v-3584e71e"]]);var Y=L}}]);
//# sourceMappingURL=253.f186ca48.js.map