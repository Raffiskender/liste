"use strict";(self["webpackChunkliste_de_course"]=self["webpackChunkliste_de_course"]||[]).push([[311],{1024:function(e,s,a){a.d(s,{b:function(){return l}});var r=a(1020);const l=(0,r.Q_)("passwordCheck",{state:()=>({password:"",regMail:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,regPassword:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(^.{8,22}$)/,regNumberOfCaracteres:/(^.{8,22}$)/,regSpecialCaractere:/(?=.*[^A-Za-z0-9])/,regCapitilizeCaractere:/(?=.*[A-Z])/,regMinimizeCaractere:/(?=.*[a-z])/,regNumber:/(?=.*[0-9])/}),actions:{updatePassword(e){this.password=e},isNumberOfCaracteresValid(){return""==this.password?"has-error":this.regNumberOfCaracteres.test(this.password)?"has-success":"has-error"},isSpecialCaractereValid(){return""==this.password?"has-error":this.regSpecialCaractere.test(this.password)?"has-success":"has-error"},isCapitilizeCaractereValid(){return""==this.password?"has-error":this.regCapitilizeCaractere.test(this.password)?"has-success":"has-error"},isMinimizeCaractereValid(){return""==this.password?"has-error":this.regMinimizeCaractere.test(this.password)?"has-success":"has-error"},isNumberValid(){return""==this.password?"has-error":this.regNumber.test(this.password)?"has-success":"has-error"},isPasswordValid(){return""==this.password?"has-error":this.regPassword.test(this.password)?"has-success":"has-error"},isPasswordValidationOk(e){return""!=e&&this.regPassword.test(this.password)&&this.password==e?"has-success":"has-error"}}})},5462:function(e,s,a){a.d(s,{Z:function(){return d}});var r=a(3396),l=a(7139);const i=["for"],t=["type","name","id","placeholder"];function o(e,s,a,o,c,n){const u=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("label",{for:a.name},[(0,r._)("p",null,(0,l.zw)(a.title),1)],8,i),(0,r._)("input",{type:n.inputType(),name:a.name,id:a.name,class:(0,l.C_)(a.theClass),placeholder:a.thePlaceHolder,onBlur:s[0]||(s[0]=e=>c.seePwd=!1),onInput:s[1]||(s[1]=e=>n.updateValue(e.target.value))},null,42,t),(0,r._)("span",null,[(0,r.Wm)(u,{icon:"fa-solid fa-eye",class:(0,l.C_)(["eye",{hide:c.seePwd}]),onClick:s[2]||(s[2]=e=>n.toggleSeePwd()),alt:"oeil ouvert",width:"16"},null,8,["class"]),(0,r.Wm)(u,{icon:"fa-solid fa-eye-slash",class:(0,l.C_)(["eye",{hide:!c.seePwd}]),onMousedown:n.toggleSeePwd,alt:"oeil fermé",width:"16"},null,8,["onMousedown","class"])])],64)}var c={name:"InputPassword",emits:{newValue:null},props:{thePlaceHolder:String,theClass:String,title:String,label:String,name:String,placeHolder:String,value:String},data(){return{email:"",username:"",password:"",seePwd:!1}},methods:{inputType(){return this.seePwd?"text":"password"},toggleSeePwd(){this.seePwd=!this.seePwd,setTimeout((()=>{document.querySelector("#"+this.name).focus()}),100)},updateValue(e){this.$emit("newValue",e)}}},n=a(89);const u=(0,n.Z)(c,[["render",o],["__scopeId","data-v-002de03e"]]);var d=u},6603:function(e,s,a){a.d(s,{Z:function(){return v}});var r=a(3396);const l=e=>((0,r.dD)("data-v-34275ed9"),e=e(),(0,r.Cn)(),e),i={class:"loading"},t=l((()=>(0,r._)("div",{class:"loading__circle loading__circle--color-blue"},null,-1))),o=l((()=>(0,r._)("div",{class:"loading__circle loading__circle--color-red"},null,-1))),c=l((()=>(0,r._)("div",{class:"loading__circle loading__circle--color-yellow"},null,-1))),n=l((()=>(0,r._)("div",{class:"loading__circle loading__circle--color-green"},null,-1))),u=[t,o,c,n];function d(e,s,a,l,t,o){return(0,r.wg)(),(0,r.iD)("div",i,u)}var p={name:"LoadingView"},m=a(89);const w=(0,m.Z)(p,[["render",d],["__scopeId","data-v-34275ed9"]]);var v=w},1256:function(e,s,a){a.d(s,{Z:function(){return m}});var r=a(3396),l=a(9242),i=a(7139);const t={class:"modale"},o={class:"modal-frame"},c={class:"modal-content"};function n(e,s,a,n,u,d){const p=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.j4)(l.uT,{name:"modal-animation"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r._)("div",t,[(0,r.Wm)(l.uT,{name:"modal-frame-animation"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r._)("div",o,[(0,r.Wm)(p,{class:"close-btn",onClick:n.close,icon:"fa-regular fa-circle-xmark"},null,8,["onClick"]),(0,r._)("h1",null,(0,i.zw)(a.title),1),(0,r._)("div",c,[(0,r.WI)(e.$slots,"default",{},void 0,!0)])],512),[[l.F8,a.modalActive]])])),_:3})],512),[[l.F8,a.modalActive]])])),_:3})}var u={name:"ModalView",props:{modalActive:Boolean,title:String},setup(e,{emit:s}){const a=()=>{s("close")};return{close:a}}},d=a(89);const p=(0,d.Z)(u,[["render",n],["__scopeId","data-v-3eba5c78"]]);var m=p},3193:function(e,s,a){a.d(s,{Z:function(){return d}});var r=a(3396),l=a(7139);const i=(0,r.Uk)("Doit contenir ");function t(e,s,a,t,o,c){const n=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("ul",null,[i,(0,r._)("div",{class:(0,l.C_)([t.passwordCheck.isNumberOfCaracteresValid()])},[(0,r.Wm)(n,{icon:"fa-regular fa-circle-check",class:(0,l.C_)({hide:"has-error"==t.passwordCheck.isNumberOfCaracteresValid()||""==t.passwordCheck.password})},null,8,["class"]),(0,r.Wm)(n,{icon:"fa-regular fa-circle-xmark",class:(0,l.C_)({hide:"has-success"==t.passwordCheck.isNumberOfCaracteresValid()})},null,8,["class"]),(0,r._)("li",{class:(0,l.C_)([t.passwordCheck.isNumberOfCaracteresValid()])}," entre 8 et 22 caractères, ",2)],2),(0,r._)("div",{class:(0,l.C_)([t.passwordCheck.isCapitilizeCaractereValid()])},[(0,r.Wm)(n,{icon:"fa-regular fa-circle-check",class:(0,l.C_)({hide:"has-error"==t.passwordCheck.isCapitilizeCaractereValid()||""==t.passwordCheck.password}),style:{color:"green"}},null,8,["class"]),(0,r.Wm)(n,{icon:"fa-regular fa-circle-xmark",class:(0,l.C_)({hide:"has-success"==t.passwordCheck.isCapitilizeCaractereValid()}),style:{color:"red"}},null,8,["class"]),(0,r._)("li",{class:(0,l.C_)([t.passwordCheck.isCapitilizeCaractereValid()])}," une majuscule, ",2)],2),(0,r._)("div",{class:(0,l.C_)([t.passwordCheck.isMinimizeCaractereValid()])},[(0,r.Wm)(n,{icon:"fa-regular fa-circle-check",class:(0,l.C_)({hide:"has-error"==t.passwordCheck.isMinimizeCaractereValid()||""==t.passwordCheck.password}),style:{color:"green"}},null,8,["class"]),(0,r.Wm)(n,{icon:"fa-regular fa-circle-xmark",class:(0,l.C_)({hide:"has-success"==t.passwordCheck.isMinimizeCaractereValid()}),style:{color:"red"}},null,8,["class"]),(0,r._)("li",{class:(0,l.C_)([t.passwordCheck.isMinimizeCaractereValid()])}," une minuscule ",2)],2),(0,r._)("div",{class:(0,l.C_)([t.passwordCheck.isNumberValid()])},[(0,r.Wm)(n,{icon:"fa-regular fa-circle-check",class:(0,l.C_)({hide:"has-error"==t.passwordCheck.isNumberValid()||""==t.passwordCheck.password}),style:{color:"green"}},null,8,["class"]),(0,r.Wm)(n,{icon:"fa-regular fa-circle-xmark",class:(0,l.C_)({hide:"has-success"==t.passwordCheck.isNumberValid()}),style:{color:"red"}},null,8,["class"]),(0,r._)("li",{class:(0,l.C_)([t.passwordCheck.isNumberValid()])}," un chiffre ",2)],2),(0,r._)("div",{class:(0,l.C_)([t.passwordCheck.isSpecialCaractereValid()])},[(0,r.Wm)(n,{icon:"fa-regular fa-circle-check",class:(0,l.C_)({hide:"has-error"==t.passwordCheck.isSpecialCaractereValid()||""==t.passwordCheck.password}),style:{color:"green"}},null,8,["class"]),(0,r.Wm)(n,{icon:"fa-regular fa-circle-xmark",class:(0,l.C_)({hide:"has-success"==t.passwordCheck.isSpecialCaractereValid()}),style:{color:"red"}},null,8,["class"]),(0,r._)("li",{class:(0,l.C_)([t.passwordCheck.isSpecialCaractereValid()])}," un caractère spécial ",2)],2)])])}var o=a(1024),c={name:"PasswordCheckView",setup(){const e=(0,o.b)();return{passwordCheck:e}}},n=a(89);const u=(0,n.Z)(c,[["render",t],["__scopeId","data-v-46e5da47"]]);var d=u},5638:function(e,s,a){a.d(s,{Z:function(){return c}});var r=a(3396);function l(e,s,a,l,i,t){return(0,r.wg)(),(0,r.iD)("div")}var i={name:"SpinnerCpnt"},t=a(89);const o=(0,t.Z)(i,[["render",l],["__scopeId","data-v-0d82b6c3"]]);var c=o},7311:function(e,s,a){a.r(s),a.d(s,{default:function(){return ze}});var r=a(3396),l=a(9242),i=a(4870),t=a(7139),o=a(3954),c=a(9079),n=a(6603),u=a(5462),d=a(1024),p=a(5638);const m=e=>((0,r.dD)("data-v-e07af2de"),e=e(),(0,r.Cn)(),e),w={class:"checkbox"},v=["name","id","checked"],h=["for"],_=m((()=>(0,r._)("span",{class:"checkmark"},null,-1)));function g(e,s,a,l,i,t){return(0,r.wg)(),(0,r.iD)("div",w,[(0,r._)("input",{type:"checkbox",name:a.name,id:a.name,class:"default-checkbox-input",onClick:s[0]||(s[0]=(...e)=>l.check&&l.check(...e)),checked:a.checked},null,8,v),(0,r._)("label",{for:a.name},[(0,r.WI)(e.$slots,"default",{},void 0,!0)],8,h),_])}var f={name:"CheckBox",props:{name:String,toggled:Boolean,label:String,checked:Boolean},setup(e,{emit:s}){const a=()=>{s("toggled")};return{check:a}}},C=a(89);const k=(0,C.Z)(f,[["render",g],["__scopeId","data-v-e07af2de"]]);var y=k,b=a(3193),V=a(1256),P=a(1120);const D=e=>((0,r.dD)("data-v-c2d219f4"),e=e(),(0,r.Cn)(),e),z={class:"modal-content"},S={key:0,class:"error"},W={key:1,class:"error"},Z={key:2,class:"error"},M={key:3,class:"error"},N={key:4,class:"error"},H={key:5,class:"error"},U={key:6,class:"error"},A={key:7,class:"error"},I={key:8,class:"error"},E={key:9,class:"error"},x={class:"modale-buttons"},O=["disabled"],j={key:0},q={key:0},F=D((()=>(0,r._)("p",null,"Êtes-vous certain de vouloir supprimer votre compte ? ",-1))),T=D((()=>(0,r._)("p",null,"Cette action n'est pas réversible",-1))),$=D((()=>(0,r._)("p",{style:{display:"inline","margin-left":"0.5em","font-size":"1.2em",color:"#c00"}},"Oui je le veux",-1))),B={key:0,class:"error"},L={key:1},Y=D((()=>(0,r._)("p",null,"votre compte a bien été supprimé. Vous pouvez fermer cette fenêtre.",-1))),Q=[Y],R={class:"modale-buttons"},G=["disabled"],J=D((()=>(0,r._)("h2",null,"Mon profil",-1))),K={key:1,class:"page"},X={class:"container"},ee={class:"left"},se={key:0},ae=(0,r.Uk)("Enregistré le : "),re=D((()=>(0,r._)("br",null,null,-1))),le={class:"unchangeable"},ie=(0,r.Uk)("Identifiant : "),te=D((()=>(0,r._)("br",null,null,-1))),oe={class:"unchangeable"},ce=(0,r.Uk)("E-mail : "),ne=D((()=>(0,r._)("br",null,null,-1))),ue={class:"unchangeable"},de=(0,r.Uk)("Nom : "),pe=D((()=>(0,r._)("br",null,null,-1))),me={key:0},we={key:1,class:"link"},ve=(0,r.Uk)("Prénom : "),he=D((()=>(0,r._)("br",null,null,-1))),_e={key:0},ge={key:1,class:"link"},fe={class:"right"},Ce={key:0},ke=["src"],ye={key:1},be=D((()=>(0,r._)("p",{class:"mini"},[(0,r.Uk)("créez votre avatar sur "),(0,r._)("a",{href:"https://gravatar.com",target:"blank"},"gravatar.com")],-1))),Ve={name:"ProfilView"};var Pe=Object.assign(Ve,{setup(e){const s=(0,o.L)(),a=(0,d.b)(),m=(0,i.iH)(""),w=(0,i.iH)(""),v=(0,i.iH)({currentPasswordEmpty:(0,i.iH)(!1),passwordEmpty:(0,i.iH)(!1),passwordVerifyEmpty:(0,i.iH)(!1),invalidPassword:(0,i.iH)(!1),passwordsDoesNotMatch:(0,i.iH)(!1),currentPasswordIsWrong:(0,i.iH)(!1)}),h=(0,i.iH)(!1),_=(0,i.iH)(""),g=(0,i.iH)(!1);(0,r.wF)((async()=>{await c.W.isConnected()?(s.createUser(await c.W.getUserInfos()),g.value=new Date(s.user["registered_date"])):P.Z.push({name:"403"})}));const f=()=>{switch(g.value.getMonth()){case 1:return"janvier";case 2:return"février";case 3:return"mars";case 4:return"avril";case 5:return"mai";case 6:return"juin";case 7:return"juillet";case 8:return"août";case 9:return"septembre";case 10:return"octobre";case 11:return"novembre";case 12:return"décembre";default:return"mois"}},C=(0,i.iH)(!1),k=()=>{D();let e=document.querySelectorAll("input");for(const s of e)s.value="";a.password=""},D=()=>{C.value=!C.value},Y=e=>{a.updatePassword(e)},Ve=e=>{m.value=e},Pe=e=>{w.value=e},De=(0,i.iH)(!1),ze=()=>{De.value=!De.value},Se=(0,i.iH)(!1),We=()=>{Se.value=!Se.value,Ze.value=!1},Ze=(0,i.iH)(!1),Me=()=>{Ze.value=!Ze.value},Ne=(0,i.iH)(!1),He=(0,i.iH)(!1),Ue=async()=>{if(He.value=!1,Ze.value){const e=await c.W.deleteAccount();1===e.success?Ne.value=!0:He.value="Il y a eu une erreur. Message : "+e.response.message}else He.value="Vous devez cocher la case"},Ae=()=>{s.userDisconnection(),We(),P.Z.push({name:"home"})},Ie=async()=>{if(console.log("coucou handleChangePassword"),v.value.invalidPassword=!1,v.value.currentPasswordIsWrong=!1,v.value.currentPasswordEmpty=""==w.value,v.value.passwordEmpty=""==a.password,v.value.passwordsDoesNotMatch=a.password!=m.value,v.value.invalidPassword=!a.regPassword.test(a.password),!v.value.currentPasswordEmpty&&!v.value.passwordEmpty&&!v.value.passwordVerifyEmpty&&!v.value.passwordsDoesNotMatch&&!v.value.invalidPassword){h.value=!0;const e=await c.W.passwordResetFromProfil(w.value,a.password);if(1==e.success){D(),ze(),h.value=!1,v.value.currentPasswordEmpty=!1,v.value.passwordEmpty=!1,v.value.passwordVerifyEmpty=!1,v.value.invalidPassword=!1,v.value.passwordsDoesNotMatch=!1,v.value.currentPasswordIsWrong=!1,w.value="",m.value="",a.updatePassword("");let e=document.querySelectorAll("input");for(const s of e)s.value=""}else h.value=!1,"Password is wrong"==e.response.message?v.value.currentPasswordIsWrong=!0:_.value=e.response.data.message}};return(e,o)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(V.Z,{onClose:k,modalActive:C.value,title:"Modifiez votre mot de passe"},{default:(0,r.w5)((()=>[(0,r._)("div",z,[(0,r._)("form",{onSubmit:o[4]||(o[4]=(0,l.iM)((e=>Ie()),["prevent"]))},[(0,r.Wm)(u.Z,{title:"Mot de passe actuel",onNewValue:o[0]||(o[0]=e=>Pe(e)),name:"current-password"}),v.value.currentPasswordEmpty?((0,r.wg)(),(0,r.iD)("div",S," Vous devez saisir votre mot de passe ! ")):v.value.currentPasswordIsWrong?((0,r.wg)(),(0,r.iD)("div",W," Le mot de passe est incorret ")):((0,r.wg)(),(0,r.iD)("div",Z)),(0,r.Wm)(u.Z,{title:"Nouveau mot de passe",theClass:(0,i.SU)(a).isPasswordValid(),onNewValue:o[1]||(o[1]=e=>Y(e)),name:"new-password"},null,8,["theClass"]),v.value.passwordEmpty?((0,r.wg)(),(0,r.iD)("div",M," Vous devez saisir un mot de passe ! ")):v.value.invalidPassword?((0,r.wg)(),(0,r.iD)("div",N," Votre mot de passe n'est pas assez fort ! ")):((0,r.wg)(),(0,r.iD)("div",H)),(0,r.Wm)(b.Z),(0,r.Wm)(u.Z,{title:"Confirmez",theClass:(0,i.SU)(a).isPasswordValidationOk(m.value),onNewValue:o[2]||(o[2]=e=>Ve(e)),name:"password-Validation"},null,8,["theClass"]),v.value.passwordVerifyEmpty?((0,r.wg)(),(0,r.iD)("div",U," Vous devez saisir une deuxième fois votre mot de passe ! ")):v.value.passwordsDoesNotMatch?((0,r.wg)(),(0,r.iD)("div",A," Les 2 mots de passe ne sont pas identiques ! ")):_.value?((0,r.wg)(),(0,r.iD)("div",I," Il y a eu un problème. Message : "+(0,t.zw)(_.value),1)):((0,r.wg)(),(0,r.iD)("div",E)),(0,r._)("div",x,[(0,r._)("button",{disabled:""==w.value||""==(0,i.SU)(a).password||""==m.value||h.value},[h.value?((0,r.wg)(),(0,r.j4)(p.Z,{key:1})):((0,r.wg)(),(0,r.iD)("span",j,"Ok"))],8,O),(0,r._)("button",{onClick:o[3]||(o[3]=(0,l.iM)((e=>k()),["prevent"]))},"Annuler")])],32)])])),_:1},8,["modalActive"]),(0,r.Wm)(V.Z,{onClose:ze,modalActive:De.value,title:"Votre mot de passe a été changé"},{default:(0,r.w5)((()=>[(0,r._)("button",{onClick:ze,style:{margin:"1em auto 0"}}," Fermer ")])),_:1},8,["modalActive"]),(0,r.Wm)(V.Z,{onClose:o[7]||(o[7]=e=>Ne.value?Ae():We()),modalActive:Se.value,title:"Supprimer votre compte"},{default:(0,r.w5)((()=>[Ne.value?((0,r.wg)(),(0,r.iD)("div",L,Q)):((0,r.wg)(),(0,r.iD)("div",q,[F,T,(0,r.Wm)(y,{onToggled:o[5]||(o[5]=e=>Me()),name:"ConfirmDeletion",checked:Ze.value},{default:(0,r.w5)((()=>[$])),_:1},8,["checked"]),He.value?((0,r.wg)(),(0,r.iD)("div",B,(0,t.zw)(He.value),1)):(0,r.kq)("",!0)])),(0,r._)("div",R,[Ne.value?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,class:"delete-btn",disabled:!Ze.value,onClick:Ue,style:{margin:"1em auto 0"}}," Supprimer ",8,G)),(0,r._)("button",{onClick:o[6]||(o[6]=e=>Ne.value?Ae():We()),style:{margin:"1em auto 0"}}," Fermer ")])])),_:1},8,["modalActive"]),J,(0,i.SU)(s).user?((0,r.wg)(),(0,r.iD)("div",K,[(0,r._)("div",X,[(0,r._)("div",ee,[g.value?((0,r.wg)(),(0,r.iD)("p",se,[ae,re,(0,r._)("span",le,(0,t.zw)(g.value.getDate())+" "+(0,t.zw)(f())+" "+(0,t.zw)(g.value.getFullYear()),1)])):(0,r.kq)("",!0),(0,r._)("p",null,[ie,te,(0,r._)("span",oe,(0,t.zw)((0,i.SU)(s).user["username"]),1)]),(0,r._)("p",null,[ce,ne,(0,r._)("span",ue,(0,t.zw)((0,i.SU)(s).user["email"]),1)]),(0,r._)("p",null,[de,pe,""!=(0,i.SU)(s).user["last_name"]?((0,r.wg)(),(0,r.iD)("span",me,(0,t.zw)((0,i.SU)(s).user["last_name"]),1)):((0,r.wg)(),(0,r.iD)("span",we,"non défini"))]),(0,r._)("p",null,[ve,he,""!=(0,i.SU)(s).user["first_name"]?((0,r.wg)(),(0,r.iD)("span",_e,(0,t.zw)((0,i.SU)(s).user["first_name"]),1)):((0,r.wg)(),(0,r.iD)("span",ge,"non défini"))]),(0,r._)("p",null,[(0,r._)("span",{class:"link",onClick:o[8]||(o[8]=e=>D())}," Modifier mon mot de passe ")]),(0,r._)("p",null,[(0,r._)("span",{class:"link red",onClick:o[9]||(o[9]=e=>We())}," Supprimer mon compte ")])]),(0,r._)("div",fe,[void 0!=(0,i.SU)(s).user["avatar_urls"]?((0,r.wg)(),(0,r.iD)("div",Ce,[(0,r._)("img",{src:(0,i.SU)(s).user["avatar_urls"]["96"],alt:"Avatar"},null,8,ke)])):((0,r.wg)(),(0,r.iD)("div",ye,[(0,r.Wm)(p.Z)])),be])])])):((0,r.wg)(),(0,r.j4)(n.Z,{key:0}))],64))}});const De=(0,C.Z)(Pe,[["__scopeId","data-v-c2d219f4"]]);var ze=De}}]);
//# sourceMappingURL=311.207ea974.js.map