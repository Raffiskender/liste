"use strict";(self["webpackChunkliste_de_course"]=self["webpackChunkliste_de_course"]||[]).push([[829],{1256:function(s,e,r){r.d(e,{Z:function(){return p}});var a=r(3396),i=r(9242),t=r(7139);const l={class:"modale"},o={class:"modal-frame"},d={class:"modal-content"};function n(s,e,r,n,c,u){const h=(0,a.up)("font-awesome-icon");return(0,a.wg)(),(0,a.j4)(i.uT,{name:"modal-animation"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",l,[(0,a.Wm)(i.uT,{name:"modal-frame-animation"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",o,[(0,a.Wm)(h,{class:"close-btn",onClick:n.close,icon:"fa-regular fa-circle-xmark"},null,8,["onClick"]),(0,a._)("h1",null,(0,t.zw)(r.title),1),(0,a._)("div",d,[(0,a.WI)(s.$slots,"default",{},void 0,!0)])],512),[[i.F8,r.modalActive]])])),_:3})],512),[[i.F8,r.modalActive]])])),_:3})}var c={name:"ModalView",props:{modalActive:Boolean,title:String},setup(s,{emit:e}){const r=()=>{e("close")};return{close:r}}},u=r(89);const h=(0,u.Z)(c,[["render",n],["__scopeId","data-v-3eba5c78"]]);var p=h},5638:function(s,e,r){r.d(e,{Z:function(){return d}});var a=r(3396);function i(s,e,r,i,t,l){return(0,a.wg)(),(0,a.iD)("div")}var t={name:"SpinnerCpnt"},l=r(89);const o=(0,l.Z)(t,[["render",i],["__scopeId","data-v-0d82b6c3"]]);var d=o},2829:function(s,e,r){r.r(e),r.d(e,{default:function(){return U}});var a=r(3396),i=r(9242),t=r(7139);const l=s=>((0,a.dD)("data-v-32db94f8"),s=s(),(0,a.Cn)(),s),o=l((()=>(0,a._)("div",{class:"modal-content"},[(0,a._)("h1",{class:"title"},"Inscription réussie !"),(0,a._)("p",null,"Un mail de vérification vient de vous être envoyé. Une fois votre mail confirmé, vous pourrez vous connecter...")],-1))),d=l((()=>(0,a._)("h2",null,"S'enregistrer",-1))),n=(0,a.Uk)(" Email "),c={key:0,class:"error"},u={key:1,class:"error"},h=(0,a.Uk)(" Identifiant "),p={key:0,class:"error"},m=(0,a.Uk)(" Mot de passe "),w=["type"],f=(0,a.Uk)("Doit contenir "),C=l((()=>(0,a._)("li",null,"entre 8 et 22 caractères,",-1))),_={key:0,class:"error"},y={key:1,class:"error"},v=(0,a.Uk)(" Vérification du mot de passe "),g=["type"],V={key:0,class:"error"},k={key:1,class:"error"},b={key:0,class:"error"},P=["disabled"],M={key:0},z={key:1,class:"error"},S=l((()=>(0,a._)("p",null,"Il y eu un pb lors de votre enregistrement",-1)));function E(s,e,r,l,E,I){const W=(0,a.up)("ModalView"),D=(0,a.up)("font-awesome-icon"),N=(0,a.up)("SpinnerCpnt");return(0,a.wg)(),(0,a.iD)("section",null,[(0,a.Wm)(W,{onClose:l.toggleModal,modalActive:l.modalActive},{default:(0,a.w5)((()=>[o])),_:1},8,["onClose","modalActive"]),d,(0,a._)("form",{onSubmit:e[11]||(e[11]=(0,i.iM)(((...s)=>this.handleFormSubmit&&this.handleFormSubmit(...s)),["prevent"]))},[(0,a._)("label",null,[n,(0,a.wy)((0,a._)("input",{type:"email",name:"Email","onUpdate:modelValue":e[0]||(e[0]=s=>this.email=s),placeholder:"Email",class:(0,t.C_)([I.isEmailValid()]),required:""},null,2),[[i.nr,this.email]]),this.errors.emailEmpty?((0,a.wg)(),(0,a.iD)("div",c," Vous devez saisir un mail ! ")):(0,a.kq)("",!0),this.errors.invalidMail?((0,a.wg)(),(0,a.iD)("div",u," E-mail invalide ! ")):(0,a.kq)("",!0)]),(0,a._)("label",null,[h,(0,a.wy)((0,a._)("input",{type:"text",name:"username","onUpdate:modelValue":e[1]||(e[1]=s=>this.username=s),placeholder:"Identifiant",required:""},null,512),[[i.nr,this.username]]),this.errors.usernameEmpty?((0,a.wg)(),(0,a.iD)("div",p," Vous devez saisir un login ! ")):(0,a.kq)("",!0)]),(0,a._)("label",null,[m,(0,a.wy)((0,a._)("input",{class:(0,t.C_)(["pwdInput",I.isPasswordValid()]),type:[this.pwdInputType()],name:"password","onUpdate:modelValue":e[2]||(e[2]=s=>this.password=s),onFocus:e[3]||(e[3]=(...s)=>this.handleFocusPasswordInput&&this.handleFocusPasswordInput(...s)),onBlur:e[4]||(e[4]=(...s)=>this.handleBlurPasswordInput&&this.handleBlurPasswordInput(...s))},null,42,w),[[i.YZ,this.password]]),(0,a.Wm)(D,{icon:"fa-solid fa-eye",class:(0,t.C_)(["eye",{hide:this.seePwd}]),onClick:e[5]||(e[5]=s=>this.handleSeePwd()),alt:"",width:"16"},null,8,["class"]),(0,a.Wm)(D,{icon:"fa-solid fa-eye-slash",class:(0,t.C_)(["eye",{hide:!this.seePwd}]),onClick:e[6]||(e[6]=s=>this.handleSeePwd()),alt:"",width:"16"},null,8,["class"]),(0,a._)("div",null,[(0,a._)("ul",null,[f,(0,a._)("div",{class:(0,t.C_)([I.isNumberOfCaracteresValid()])},[(0,a.Wm)(D,{icon:"fa-regular fa-circle-check",class:(0,t.C_)({hide:"has-error"==I.isNumberOfCaracteresValid()||""==this.password})},null,8,["class"]),(0,a.Wm)(D,{icon:"fa-regular fa-circle-xmark",class:(0,t.C_)({hide:"has-success"==I.isNumberOfCaracteresValid()})},null,8,["class"]),C],2),(0,a._)("div",{class:(0,t.C_)([I.isCapitilizeCaractereValid()])},[(0,a.Wm)(D,{icon:"fa-regular fa-circle-check",class:(0,t.C_)({hide:"has-error"==I.isCapitilizeCaractereValid()||""==this.password}),style:{color:"green"}},null,8,["class"]),(0,a.Wm)(D,{icon:"fa-regular fa-circle-xmark",class:(0,t.C_)({hide:"has-success"==I.isCapitilizeCaractereValid()}),style:{color:"red"}},null,8,["class"]),(0,a._)("li",{class:(0,t.C_)([I.isCapitilizeCaractereValid()])},"une majuscule,",2)],2),(0,a._)("div",{class:(0,t.C_)([I.isMinimizeCaractereValid()])},[(0,a.Wm)(D,{icon:"fa-regular fa-circle-check",class:(0,t.C_)({hide:"has-error"==I.isMinimizeCaractereValid()||""==this.password}),style:{color:"green"}},null,8,["class"]),(0,a.Wm)(D,{icon:"fa-regular fa-circle-xmark",class:(0,t.C_)({hide:"has-success"==I.isMinimizeCaractereValid()}),style:{color:"red"}},null,8,["class"]),(0,a._)("li",{class:(0,t.C_)([I.isMinimizeCaractereValid()])},"une minuscule",2)],2),(0,a._)("div",{class:(0,t.C_)([I.isNumberValid()])},[(0,a.Wm)(D,{icon:"fa-regular fa-circle-check",class:(0,t.C_)({hide:"has-error"==I.isNumberValid()||""==this.password}),style:{color:"green"}},null,8,["class"]),(0,a.Wm)(D,{icon:"fa-regular fa-circle-xmark",class:(0,t.C_)({hide:"has-success"==I.isNumberValid()}),style:{color:"red"}},null,8,["class"]),(0,a._)("li",{class:(0,t.C_)([I.isNumberValid()])},"un chiffre",2)],2),(0,a._)("div",{class:(0,t.C_)([I.isSpecialCaractereValid()])},[(0,a.Wm)(D,{icon:"fa-regular fa-circle-check",class:(0,t.C_)({hide:"has-error"==I.isSpecialCaractereValid()||""==this.password}),style:{color:"green"}},null,8,["class"]),(0,a.Wm)(D,{icon:"fa-regular fa-circle-xmark",class:(0,t.C_)({hide:"has-success"==I.isSpecialCaractereValid()}),style:{color:"red"}},null,8,["class"]),(0,a._)("li",{class:(0,t.C_)([I.isSpecialCaractereValid()])},"un caractère spécial",2)],2)])]),this.errors.passwordEmpty?((0,a.wg)(),(0,a.iD)("div",_," Vous devez saisir un mot de passe ! ")):(0,a.kq)("",!0),this.errors.invalidPassword?((0,a.wg)(),(0,a.iD)("div",y," Votre mot de passe n'est pas assez fort ! ")):(0,a.kq)("",!0)]),(0,a._)("label",null,[v,(0,a.wy)((0,a._)("input",{class:(0,t.C_)(["pwdInput",I.isPasswordValidationOk()]),type:[this.pwdVerifInputType()],name:"passwordVerify",onBlur:e[7]||(e[7]=s=>this.handleBlurPwdVerif()),"onUpdate:modelValue":e[8]||(e[8]=s=>this.passwordVerify=s)},null,42,g),[[i.YZ,this.passwordVerify]]),(0,a.Wm)(D,{icon:"fa-solid fa-eye",class:(0,t.C_)(["eye",{hide:this.seePwdVerif}]),onClick:e[9]||(e[9]=s=>this.handleSeePwdVerif()),alt:"",width:"16"},null,8,["class"]),(0,a.Wm)(D,{icon:"fa-solid fa-eye-slash",class:(0,t.C_)(["eye",{hide:!this.seePwdVerif}]),onClick:e[10]||(e[10]=s=>this.handleSeePwdVerif()),alt:"",width:"16"},null,8,["class"]),this.errors.passwordVerifyEmpty?((0,a.wg)(),(0,a.iD)("div",V," Vous devez saisir une deuxième fois votre mot de passe ! ")):(0,a.kq)("",!0),this.errors.passwordsDoesNotMatch?((0,a.wg)(),(0,a.iD)("div",k," Les 2 mots de passe ne sont pas identiques ! ")):(0,a.kq)("",!0)]),this.errors.loginFailed?((0,a.wg)(),(0,a.iD)("div",b," Identifiants incorrects ")):(0,a.kq)("",!0),(0,a._)("button",{disabled:""==this.email||""==this.username||""==this.password||""==this.passwordVerify||this.awaiting},[this.awaiting?((0,a.wg)(),(0,a.j4)(N,{key:1})):((0,a.wg)(),(0,a.iD)("span",M,"S'inscrire"))],8,P),this.errors.subscribeFailed?((0,a.wg)(),(0,a.iD)("div",z,[S,(0,a._)("p",null,"Message : "+(0,t.zw)(this.errorMessage),1)])):(0,a.kq)("",!0)],32)])}var I=r(9079),W=r(1256),D=r(5638),N=r(4870),Z=r(1120),F={name:"SubscribeView",components:{ModalView:W.Z,SpinnerCpnt:D.Z},setup(){const s=(0,N.iH)(!1),e=()=>{s.value=!s.value,s.value||setTimeout((()=>{Z.Z.push({name:"login"})}),150)};return{modalActive:s,toggleModal:e}},data(){return{email:"",username:"",password:"",passwordVerify:"",passwordfocus:!1,seePwd:!1,seePwdVerif:!1,awaiting:!1,errors:{subscribeFailed:!1,emailEmpty:!1,usernameEmpty:!1,fisrt_nameEmpty:!1,last_nameEmpty:!1,passwordEmpty:!1,passwordVerifyEmpty:!1,passwordsDoesNotMatch:!1,invalidMail:!1,invalidPassword:!1},success:{subscribeSuccessfull:!1},errorMessage:"",regMail:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,regPassword:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(^.{8,22}$)/,regNumberOfCaracteres:/(^.{8,22}$)/,regSpecialCaractere:/(?=.*[^A-Za-z0-9])/,regCapitilizeCaractere:/(?=.*[A-Z])/,regMinimizeCaractere:/(?=.*[a-z])/,regNumber:/(?=.*[0-9])/}},methods:{isEmailValid(){return""==this.email?"":this.regMail.test(this.email)?"has-success":"has-error"},handleSeePwd(){this.seePwd=!this.seePwd,this.passwordfocus=!0},handleSeePwdVerif(){this.seePwdVerif=!this.seePwdVerif},handleBlurPwdVerif(){this.seePwdVerif=!1},pwdVerifInputType(){return this.seePwdVerif?"text":"password"},pwdInputType(){return this.seePwd?"text":"password"},isNumberOfCaracteresValid(){return""==this.password?"has-error":this.regNumberOfCaracteres.test(this.password)?"has-success":"has-error"},isSpecialCaractereValid(){return""==this.password?"has-error":this.regSpecialCaractere.test(this.password)?"has-success":"has-error"},isCapitilizeCaractereValid(){return""==this.password?"has-error":this.regCapitilizeCaractere.test(this.password)?"has-success":"has-error"},isMinimizeCaractereValid(){return""==this.password?"has-error":this.regMinimizeCaractere.test(this.password)?"has-success":"has-error"},isNumberValid(){return""==this.password?"has-error":this.regNumber.test(this.password)?"has-success":"has-error"},isPasswordValid(){return""==this.password?"has-error":this.regPassword.test(this.password)?"has-success":"has-error"},isPasswordValidationOk(){if(""!=this.passwordVerify&&this.regPassword.test(this.password))return this.password==this.passwordVerify?"has-success":"has-error"},handleFocusPasswordInput(){this.errors.invalidPassword=!1,this.passwordfocus=!0},handleBlurPasswordInput(){this.seePwd=!1,this.passwordfocus=!1},async handleFormSubmit(){if(this.errors.subscribeFailed=!1,this.errors.invalidMail=!1,this.errors.invalidPassword=!1,this.errors.emailEmpty=""==this.email,this.errors.usernameEmpty=""==this.username,this.errors.passwordEmpty=""==this.password,this.errors.passwordsDoesNotMatch=this.password!=this.passwordVerify,this.errors.invalidMail=!this.regMail.test(this.email),this.errors.invalidPassword=!this.regPassword.test(this.password),!this.errors.usernameEmpty&&!this.errors.passwordEmpty&&!this.emailEmpty&&!this.errors.passwordsDoesNotMatch&&!this.errors.invalidMail&&!this.errors.invalidPassword){this.awaiting=!0;let s=await I.W.subscribe(this.email,this.username,this.password);1==s.success?(this.toggleModal(),this.awaiting=!1):(this.errorMessage=s.response.message,this.errors.subscribeFailed=!0,this.awaiting=!1)}}}},A=r(89);const q=(0,A.Z)(F,[["render",E],["__scopeId","data-v-32db94f8"]]);var U=q}}]);
//# sourceMappingURL=829.8c47261e.js.map